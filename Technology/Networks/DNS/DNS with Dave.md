[https://www.youtube.com/watch?v=49PhEUZVjzQ]  

	hey I'm Dave welcome to my shop I'm Dave plumber a retired operating systems engineer from Microsoft going back to the MS DOS and Windows 95 days, and today we're going to demystify a fundamental part of the internet that you use every day. probably without even realizing it the domain name system or [[DNS]] for short.
	 it works something like directory assistants did in the old days serving up the [[IP]] addresses associated with the servers that you visit every day. a slow [[DNS]] means every internet request you make, Take that much longer. I'll show you how to Benchmark your own [[DNS]]; and then how to make it and all of your internet requests significantly faster, no matter who your [[ISP]] is. I'd wager most of my audience is old enough to know what a phone book was and you can think of [[DNS]] as the internet's phone book. but instead of looking up a person's name to find their phone number, you're looking up a domain name to find its IP address.
	  when you type google.com into your browser your computer doesn't inherently know where to find that website. instead it asks a [[DNS]] server to look up the [[IP]] address associated with that domain name. much like you would use a phone book to find somebody's phone number, but for those old enough to remember it's actually more like directory assistance. 
	  for two reasons, one you don't do the look up yourself because you can't really maintain an updated phone book of every computer worldwide on your local machine. there are just too many entries which means you're asking someone else to do the lookup for you. and second like directory assistance it takes some time. but here's where it gets fascinating unlike a simple phone home book. the DNS system has layers and layers of complexity making it one of the most sophisticated yet invisible systems powering our daily internet use.
	   so let's dig a Little Deeper, the process of DNS resolution starts with something called a DNS query. when you enter a URL into your browser your computer sends out a DNS query to find the corresponding IP address. this query first goes to a DNS resolver typically provided by your internet service provider or ISP. this resolver normally lives at an IP address returned by your dhcp server on your cable modem or similar. the resolver then does the leg work of initiating a series of requests to find the actual IP address. and here's a key Point DNS operates in a hierarchical structure or put more simply it's an upside down tree and at the top of this hierarchy are the root servers.
	   there are precisely 13 sets of these root servers worldwide identified by the letters a through M. these root servers don't actually know the IP address of the website you're looking for, but they can point you in the right direction by directing your query to the appropriate top level domain or TLD server. for instance if you're looking up example.Com, the root server will direct your query to the top level domain server responsible for .com domains. the top level domain server in turn will direct your query to the authoritative name server for that specific domain.
	  this authoritative server holds the actual IP address for the domain in question. now companies like Amazon Google and Microsoft to operate their own authoritative name servers, but if your site is on something like cloudflare. your domains authoritative DNS servers are also likely operated by Cloud flare. it's not required to be with the same company, you could put the DNS info for your Squarespace domain on Google domains, but it has to go somewhere or nobody can find the website. in most cases just using your hosting provided DNS is just fine.
	   now to strain the phone book analogy a little further the internet IP phone book is so large that it's got its own Library split into multiple rooms, and those rooms contain multiple racks, and those racks contain the actual volumes that make up this enormous phone book. now regardless of where the authoritative answer comes from Once the IP address is found it's sent back to your DNS resolver; which then sends it back onto your computer. your browser can now connect to the website server using the IP address and voila the website loads. now this might sound like a lengthy process but it happens in the blink of an eye.
	   typically within milliseconds DNS is incredibly efficient but there there's also a mechanism to make it even faster. caching when a DNS resolver finds an IP address for a domain, it stores this information for a certain period known as the time to live or TTL. if another query is made for the same domain within this time to live period the resolver can respond immediately from its cache. bypassing the entire lookup process the IP addresses can and often do change, but the longest anyone should ever be out of date is the time to live period. but DNS isn't just about translating domain name Name to IP addresses it also plays a crucial role in email delivery.
	   when you send an email your mail server uses DNS to look up the mail exchanger or MX records for the recipient's domain. these MX records tell your server where to deliver the email to. so for example the MX record for example.Com might specify delivery to mail.Example.Com. which lives on a different server than www.example.com. this allows responsibility for different services to be distributed to different IP addresses and machines.
	   another important aspect of DNS is security you might have heard of DNS spoofing or Cache poisoning where attackers insert false information into the DNS resolver cache. this can redirect users to malicious websites without their knowledge. to combat this the DNS security extensions known as DNS SEC were developed. DNS SEC adds a layer of cryptographic signatures to the DNS data ensuring that the information received is authentic and hasn't been tampered with.
	   let's also touch on the different types of DNS records these are the entries in the big internet phone book that Store The Domain information. aside from the a record which maps The Domain to its ipv 4 address, there are several other record types. the 4 A (AAAA)record maps The Domain to its IPv6 address. cname records or Canonical Name Records are used to Alias one domain name to another. txt records allow domain administrators to insert any text into DNS often used for verification purposes. there are also SRV records which are used to define the location of servers for specific services. and PTR records which provide reverse lookup translating an IP address back into a domain name. and as mentioned earlier the MX records specify which IP addresses should handle email.
	   now in terms of performance what we really care about is how long it takes to get an authoritative response from our DNS server. remember it's not just the delay when we type a domain name into the browser. that first time anytime we load a page. it could be hitting dozens of different domains scattered across the web, and each one of those requires a DNS lookup as well. so faster DNS can really have a measurable and noticeable impact on web performance in particular. and it's important to keep in mind that your DNS server can be any server in the world as long as you know its IP.
	 there are numerous public and or free ones and some are going to be faster than others, but a lot of that is going to be the proximity to you and the topology of the internet. the fastest one when queried from my house near Seattle may be much slower if you happen to live near Florida. what you need to know is what are the fastest DNS servers available in your area specifically. fortunately somebody's written an app for that and it's completely free.
	that person is Steve Gibson and he's a bit of a legend you might remember an old app called spinright back in the 80's and 90's for maintaining hard drives, and that was a Steve Gibson product as well. his DNS Benchmark like most all of his software is handcrafted in pure Assembly Language. is that a bit extreme? I'd say so but in a good way. you in any event all we need to do is to visit his grc.Com website, download the app, and then run it. it's just an executable itself, there's nothing to install. and you can even run it from your downloads folder. 
	we simply double click the icon wherever we saved it and the app will launch. it will take a minute or two to build a list of active DNS servers to evaluate. at which point we can then click on the Run Benchmark button. that will start sending DNS request to each of the servers in a long list of candidates, and as results come back in the list is then sorted with the highest performers first in the little bar graphs that it generates along the way. the green bar represents how long it takes for an uncashed query and the blue represents specifically how long it takes to resolve queries. which are likely to be among your most frequent requests there's also a red line that represents the time to fetch a DNS entry from the cache. and it's usually so short as to be unmeasurable at least on my local fiber.
	 interpreting the results can be a bit complicated but in this case it turns out that my isp's DNS provider which shows up as the local network name server here takes more than twice as long on average to resolve an uncast request as the Open DNS servers would but if we look a little further down the cloudflare server has about the same uncashed performance but it's much faster fortcom queries so I think that's the one I would select in my case if you do opt to change your DNS server to a faster alternative do some with some caution as if you break it you won't be able to load any web content I think it's best to start by changing it on a single Machine by Chang changing the tcpip network settings on just that machine and then if you're happy with it and everything is working well after a few days you can change the DNS server that's handed out to all of your network clients by your dhtp server how you do that varies greatly depending on which router you're using which usually determines how your DHCP setup is controlled but before you just start pointing your DNS queries off to some random server you might want to first visit that provider and check their terms and conditions to make sure that a you're using their systems in a manner they permit and B that you're comfortable with their privacy policies in terms of them sharing your browsing information how do they get it why would that matter because DNS is one of those services that by and large is still run open and the clear without encryption as long as you're visiting a secure https website the transmission of the page requested is encrypted and even the full URL is encrypted except the portion that resolves the domain itself because the only way to establish that initial secure Communication channel is to First specify who you want to have it with and that's going to require a DNS lookup for the IP address so let's say you fire up incognito mode in Chrome you go to the address bar and you enter the URL of your favorite website you know the one that ends in Hub so let's say you type in GitHub davl and press enter three things now happen in order first a plain text DNS query is sent to your DNS server to get the IP address for github. Com the full URL is not part of this request just the domain name second the IP address comes back and that IP is used to establish a secure and encrypted https connection third once that connection is established the URL is sent in encrypted form and the page contents are returned encrypted as well and so while the actual request and response are encrypted the domain name itself still has to be sent in the clear there are ways to run encrypted DNS such as with pfSense but they're complicated and require a service host provider and they're beyond the scope of what we can do here today so for now you largely have to live with the fact that your D n s provider whether it's your ISP or a third party will always have access to the domains you are visiting and that's true in incognito mode as well now if the privacy issues of DNS aren't keeping you up at night then perhaps the security issues might because without DNS up and running on the internet all communication effectively grinds to a halt imagine a scenario where the root name servers of the domain name system are targeted by a distributed denial of service attack without DNS you would need to remember the numerical IP addresses of every site you wanted to visit and all the sites they were dependent on which is Impractical it'd be like maintaining a list of dialup numbers for your local bbs's but thousands of them it doesn't scale up to the size of the internet as we learned when you type a URL into your browser the computer sends a query to your local DNS resolver typically provided by your ISP if the resolver can't find the needed information in its cache it asks the root server which initiates the process of resolving the domain by directing the query down through that hierarchy now consider the impact of a Dos attack on these root servers if the root servers were overwhelmed by such an attack it could severely disrupt the DNS resolution process essentially if the root servers are down or slow to respond the entire chain of DNS queries could be delayed or fail making it difficult or impossible to use websites at all the ramifications of such an attack are significant because the root servers are critical to the overall functionality of the internet while there are redundancies and security measures in place to mitigate such attacks the sheer scale of a coordinated dos attack on these servers could still cause widespread disruptions however it's important to note that a successful attack on all root servers is extremely difficult these servers are highly distributed across multiple Geographic locations and maintained by different organizations which makes a comprehensive and simultaneous attack challenging and so while a Dos attack on the root name servers could theoretically have a profound impact on the functionality of the internet the likelihood of a successful and sustained attack is relative ly low due to the robust security measures and distributed nature of these servers nevertheless the Potential Threat is still real so I hope somebody smart is losing sleep over it if you have any interest in matters related to the autism spectrum or know somebody that might be on the Spectrum please check out the free sample of my new book on Amazon the non-visible part of the spectrum I wrote it for folks that do not have ASD but that might have some of the characteristics of being on the Spectrum I've tried to include everything I now know about living your best life on the Spectrum check it out at the link in the video description and if you found today's episode on DNS to be any combination of informative or entertaining I be honored if you'd consider subscribing to the channel and leaving a like on the video it really does help with the algorithm and subscriptions are largely how I measure interest in a topic in the meantime and in between time hope to see you next time right here in Dave's Garage peaches are coming in mighty early this year subscribe you know what they say Timmy early peaches long summer subscribe what's that Lassie subscribe